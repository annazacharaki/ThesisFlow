<!DOCTYPE html>
<html lang="el">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Επεξεργασία Προφίλ</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        body {
            background-color: #f8f9fa;
            font-family: Arial, sans-serif;
        }

        .container {
            margin-top: 50px;
        }

        .card {
            border: none;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
        }

        .form-label {
            font-weight: 600;
        }

        .btn-custom {
            background-color: #007bff;
            color: white;
        }

        .btn-custom:hover {
            background-color: #0056b3;
            color: white;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-10">
                <div class="card p-4">
                    <h3 class="text-center mb-4">Επεξεργασία Προφίλ</h3>
                    <form id="editProfileForm">
                        <fieldset class="mb-3">
                            <legend class="h5">Διεύθυνση</legend>
                            <div class="row mb-2">
                                <div class="col-md-6">
                                    <label for="street" class="form-label">Οδός</label>
                                    <input type="text" class="form-control" id="street" placeholder="Εισάγετε την οδό"
                                        required>
                                </div>
                                <div class="col-md-6">
                                    <label for="number" class="form-label">Αριθμός</label>
                                    <input type="text" class="form-control" id="number"
                                        placeholder="Εισάγετε τον αριθμό" required>
                                </div>
                            </div>
                            <div class="row mb-2">
                                <div class="col-md-6">
                                    <label for="city" class="form-label">Πόλη</label>
                                    <input type="text" class="form-control" id="city" placeholder="Εισάγετε την πόλη"
                                        required>
                                </div>
                                <div class="col-md-6">
                                    <label for="postcode" class="form-label">Ταχυδρομικός Κώδικας</label>
                                    <input type="text" class="form-control" id="postcode"
                                        placeholder="Εισάγετε τον ταχυδρομικό κώδικα" required>
                                </div>
                            </div>
                            <div class="text-end">
                                <button type="button" class="btn btn-success" id="submitAddress">Υποβολή
                                    Διεύθυνσης</button>
                            </div>
                        </fieldset>
                        <div class="mb-3">
                            <label for="email" class="form-label">Ηλεκτρονικό Ταχυδρομείο</label>
                            <input type="email" class="form-control" id="email" placeholder="Εισάγετε το email σας"
                                required>
                            <div class="text-end mt-2">
                                <button type="button" class="btn btn-success submit-btn"
                                    data-field="email">Υποβολή</button>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="mobile" class="form-label">Κινητό Τηλέφωνο</label>
                            <input type="tel" class="form-control" id="mobile" placeholder="Εισάγετε τον αριθμό κινητού"
                                pattern="[0-9]{10}" required>
                            <div class="text-end mt-2">
                                <button type="button" class="btn btn-success submit-btn"
                                    data-field="mobile">Υποβολή</button>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="landline" class="form-label">Σταθερό Τηλέφωνο</label>
                            <input type="tel" class="form-control" id="landline"
                                placeholder="Εισάγετε τον αριθμό σταθερού">
                            <div class="text-end mt-2">
                                <button type="button" class="btn btn-success submit-btn"
                                    data-field="landline">Υποβολή</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <!-- Bootstrap Table JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.21.0/bootstrap-table.min.js"></script>
    <!-- TableExport jQuery Plugin -->
    <script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin@1.10.24/dist/js/tableExport.min.js"></script>
    <!-- Bootstrap Table Export Extension -->
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.21.0/extensions/export/bootstrap-table-export.min.js"></script>
    <script type="text/javascript" src="./js/libs/FileSaver/FileSaver.min.js"></script>
    <script>
        function validateEmail(email) {
            const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return regex.test(email);
        }

        function validateMobile(mobile) {
            const regex = /^69\d{8}$/;
            return regex.test(mobile);
        }

        function validateLandline(landline) {
            const regex = /^2\d{9}$/;
            return regex.test(landline);
        }

        $(document).ready(function () {
            // Handle address section submission
            $('#submitAddress').click(function () {
                const street = $('#street').val().trim();
                const number = $('#number').val().trim();
                const city = $('#city').val().trim();
                const postcode = $('#postcode').val().trim();

                if (!street || !number || !city || !postcode) {
                    alert('Συμπληρώστε όλα τα πεδία της διεύθυνσης.');
                    return;
                }

                alert(`Διεύθυνση υποβλήθηκε:\nΟδός: ${street}\nΑριθμός: ${number}\nΠόλη: ${city}\nΤαχυδρομικός Κώδικας: ${postcode}`);

                // Clear fields
                $('#street, #number, #city, #postcode').val('');
            });

            // Handle individual field submission
            $('.submit-btn').click(function () {
                const fieldId = $(this).data('field');
                const fieldValue = $(`#${fieldId}`).val().trim();
                let isValid = true;
                let errorMessage = '';

                if (fieldValue === '') {
                    isValid = false;
                    errorMessage = 'Το πεδίο δεν μπορεί να είναι κενό.';
                } else if (fieldId === 'email' && !validateEmail(fieldValue)) {
                    isValid = false;
                    errorMessage = 'Εισάγετε ένα έγκυρο email.';
                } else if (fieldId === 'mobile' && !validateMobile(fieldValue)) {
                    isValid = false;
                    errorMessage = 'Εισάγετε ένα έγκυρο κινητό.';
                } else if (fieldId === 'landline' && fieldValue && !validateLandline(fieldValue)) {
                    isValid = false;
                    errorMessage = 'Εισάγετε ένα έγκυρο σταθερό τηλέφωνο.';
                }

                if (!isValid) {
                    alert(errorMessage);
                } else {
                    console.log(fieldId, fieldValue);
                    $(`#${fieldId}`).val('');
                }
            });
        });
    </script>
</body>

</html>